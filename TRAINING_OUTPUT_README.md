# 训练输出增强说明

## 📋 概述

已为所有训练脚本添加了每轮训练后的详细验证结果打印功能，让您能够实时监控模型的训练进度和性能变化。

## 🔧 修改的文件

### 训练文件
- `MOSI/train/TVA_train.py` - MOSI数据集训练
- `MOSEI/train/TVA_train.py` - MOSEI数据集训练  
- `MOSEI/train/Adaptive_TVA_train.py` - MOSEI自适应训练
- `SIMS/train/TVA_train.py` - SIMS数据集训练

## 📊 输出格式

### MOSI 数据集输出
```
📊 Epoch 1/25 验证结果:
   Loss: 0.823456
   MAE: 0.654321
   Corr: 0.567890
   Has0_acc_2: 0.789012
   Non0_acc_2: 0.678901
   Mult_acc_5: 0.567890
   Mult_acc_7: 0.456789
   🎉 新的最佳模型已保存! (Best Loss: 0.823456)
------------------------------------------------------------
```

### MOSEI 数据集输出
```
📊 Epoch 1/25 验证结果:
   Loss: 1.234567
   MAE: 0.876543
   Corr: 0.456789
   Has0_acc_2: 0.723456
   Non0_acc_2: 0.634567
   Mult_acc_5: 0.545678
   Mult_acc_7: 0.434567
   Has0_F1_score: 0.712345
   Non0_F1_score: 0.623456
   🎉 新的最佳模型已保存! (Best Loss: 1.234567)
------------------------------------------------------------
```

### SIMS 数据集输出
```
📊 Epoch 1/25 验证结果:
   Loss: 0.987654
   MAE: 0.743210
   Corr: 0.512345
   Acc_2: 0.678901
   Acc_3: 0.567890
   Acc_5: 0.456789
   F1_score: 0.654321
   🎉 新的最佳模型已保存! (Best Loss: 0.987654)
------------------------------------------------------------
```

## 🎯 关键特性

### 实时监控
- ✅ **每轮即时反馈**: 训练完一轮立即显示验证结果
- ✅ **进度追踪**: 显示当前轮次和总轮次 (Epoch X/Y)
- ✅ **性能趋势**: 观察各指标的变化趋势

### 详细指标
- ✅ **回归指标**: Loss, MAE, Corr (相关系数)
- ✅ **分类指标**: 各种准确率和F1分数
- ✅ **数据集特定**: 每个数据集显示其特有的评估指标

### 智能提示
- 🎉 **最佳模型保存**: 当保存新的最佳模型时显示庆祝图标
- 📈 **历史最佳**: 当前轮次未达到最佳时显示历史最佳记录
- 📊 **清晰分隔**: 使用分隔线区分不同轮次的结果

## 📈 指标说明

### 通用指标
- **Loss**: 验证损失，越小越好
- **MAE**: 平均绝对误差，越小越好  
- **Corr**: 相关系数，越大越好 (范围: -1 到 1)

### MOSI/MOSEI 特定指标
- **Has0_acc_2**: 二分类准确率 (包含0值)
- **Non0_acc_2**: 二分类准确率 (不包含0值)
- **Mult_acc_5**: 5分类准确率
- **Mult_acc_7**: 7分类准确率
- **Has0_F1_score**: F1分数 (包含0值)
- **Non0_F1_score**: F1分数 (不包含0值)

### SIMS 特定指标
- **Acc_2**: 2分类准确率
- **Acc_3**: 3分类准确率
- **Acc_5**: 5分类准确率
- **F1_score**: F1分数

## 🚀 使用方法

### 正常训练
直接运行训练脚本，现在会自动显示每轮的验证结果：

```bash
# MOSI数据集
cd MOSI
python main.py

# MOSEI数据集
cd MOSEI  
python main.py

# SIMS数据集
cd SIMS
python main.py
```

### 自适应训练 (MOSEI)
```bash
cd MOSEI
python adaptive_main.py
```

## 💡 实用技巧

### 1. 快速判断训练状态
- 看到 🎉 说明模型性能在提升
- 连续几轮看到 📈 可能表示模型已收敛
- Loss持续上升可能表示过拟合

### 2. 实验记录
- 可以直接复制粘贴输出到实验记录中
- 每轮结果都有时间戳和完整信息
- 便于对比不同实验的性能

### 3. 调试训练
- 实时观察是否有异常指标
- 及时发现训练不稳定的情况
- 根据验证结果调整超参数

## 🔍 示例输出

运行以下命令查看完整的输出示例：

```bash
python training_output_example.py
```

## ⚠️ 注意事项

1. **输出频率**: 每个epoch结束后打印一次
2. **精度显示**: 所有指标显示6位小数
3. **最佳模型**: 基于验证损失保存最佳模型
4. **日志记录**: 详细结果仍会写入日志文件

## 📞 支持

如果您希望：
- 调整显示的指标
- 修改输出格式
- 添加其他统计信息

请参考相应训练文件中的打印部分进行自定义修改。

---

**更新日期**: 2025-08-04  
**版本**: 1.0  
**适用范围**: 所有数据集的训练脚本
